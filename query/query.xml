<?xml version="1.0" encoding="UTF-8" ?>
<query>
  <doLogin>
    SELECT usr_num, name FROM user WHERE id = '%s' AND pw = '%s'
  </doLogin>
  <getCourse>
    SELECT COU.cou_num, COU.cou_name, PRO.name pro_name
    FROM user PRO, course COU, study STD
    WHERE STD.stu_num = %s
    AND STD.cou_num = COU.cou_num
    AND COU.pro_num = PRO.usr_num
  </getCourse>
  <getSchedule>
    SELECT COU.cou_num, COUT.weekday, PRO.name, COU.cou_name, COUT.place, COUT.start_time, COUT.during_time
    FROM study STU, course_time COUT, course COU, user PRO
    WHERE STU.stu_num = %s
    AND COUT.cou_num = COU.cou_num
    and COU.pro_num = PRO.usr_num
    AND STU.cou_num = COUT.cou_num
  </getSchedule>
  <getStuAttend>
    SELECT COU.cou_name, ATT.stu_num, date(ATT.time) date, sum(ATT.attend_state) att_cnt
    FROM attend ATT, course COU
    WHERE ATT.stu_num = %s
    AND ATT.cou_num = %s
    AND COU.cou_num = ATT.cou_num
    GROUP by ATT.cou_num, ATT.stu_num, date(ATT.time)
  </getStuAttend>
  <getUsersInfo>
    SELECT usr_num, id, name
    FROM user
    WHERE usr_num IN (%s)
  </getUsersInfo>

</query>
